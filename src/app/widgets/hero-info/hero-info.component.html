
<div class="hero-info-container" [ngClass]="[isActive ? 'active' : '', hero.id]">
    <div class="hero-info-wrapper">
        <img [src]="'./assets/images/portraits/' + hero.id + '_' + hero.gender + '.jpg'" class="portrait" [ngClass]="hero.id">
        <div class="hero-info">
            <div class="attributes">
                <div class="name">{{hero.id}}</div>
                <div class="attribute-wrapper">
                    <div class="attribute-group">
                        <div class="attribute">
                            <app-icon [icon]="'fist'"></app-icon>
                            <div class="value">{{hero.state.strength}}</div>
                        </div>
                        <div class="attribute">
                            <app-icon [icon]="'gift-of-knowledge'"></app-icon>
                            <div class="value">{{hero.state.intellect}}</div>
                        </div>
                    </div>
                    <div class="attribute-group">
                        <div class="attribute">
                            <app-icon [icon]="'rosa-shield'"></app-icon>
                            <div class="value">{{hero.state.armor}}</div>
                        </div>
                        <div class="attribute">
                            <app-icon [icon]="'eye-shield'"></app-icon>
                            <div class="value">{{hero.state.will}}</div>
                        </div>
                    </div>
                </div>
            </div> 
            <div class="bars-wrapper">
                <div class="bar-group">
                    <app-icon [icon]="'wingfoot'"></app-icon>
                    <app-resource-bar [value]="hero.state.energy" [maxValue]="hero.maxEnergy" [type]="'energy'"></app-resource-bar>
                </div>
                <div class="bar-group">
                    <app-icon [icon]="'hearts'"></app-icon>
                    <app-resource-bar [value]="hero.state.health" [maxValue]="hero.maxHealth" [type]="'health'"></app-resource-bar>
                    <div class="attribute">
                        <app-icon [icon]="'heart-plus'"></app-icon>
                        <div class="value">{{hero.state.regeneration}}</div>
                    </div>
                </div>
                <div class="bar-group">
                    <app-icon [icon]="'magic-palm'"></app-icon>
                    <app-resource-bar [value]="hero.state.mana" [maxValue]="hero.maxMana" [type]="'mana'"></app-resource-bar>
                    <div class="attribute">
                        <app-icon [icon]="'meditation'"></app-icon>
                        <div class="value">{{hero.state.mind}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="action-bar-wrapper">
        <div class="group equip">
            <div class="buttons">
                <div class="ability-btn passive" [ngClass]="hero.id" [tooltip]="getEquipTooltip(hero.state.chestpiece)">
                    <app-icon [icon]="hero.id + '/' + hero.state.chestpiece.name"></app-icon>
                    <div class="overlay"></div>
                </div>
                <div class="ability-btn passive" [ngClass]="hero.id" *ngIf="hero.state.secondaryWeapon && hero.state.secondaryWeapon.isPassive" [tooltip]="getEquipTooltip(hero.state.secondaryWeapon)">
                    <app-icon [icon]="hero.id + '/' + hero.state.secondaryWeapon.name"></app-icon>
                    <div class="overlay"></div>
                </div>
                <div class="ability-btn" [ngClass]="hero.id" [tooltip]="getEquipTooltip(hero.state.primaryWeapon)">
                    <app-icon [icon]="hero.id + '/' + hero.state.primaryWeapon.name"></app-icon>
                    <div class="overlay"></div>
                </div>
                <div class="ability-btn" [ngClass]="hero.id" *ngIf="hero.state.secondaryWeapon && !hero.state.secondaryWeapon.isPassive" [tooltip]="getEquipTooltip(hero.state.secondaryWeapon)">
                    <app-icon [icon]="hero.id + '/' + hero.state.secondaryWeapon.name"></app-icon>
                    <div class="overlay"></div>
                </div>
            </div>        
        </div>
        <div class="group abilities">
            <div class="buttons">
                <div class="ability-btn" [ngClass]="hero.id" *ngFor="let ability of hero.state.abilities">
                    <app-icon [icon]="hero.id + '/' + ability.name"></app-icon>
                    <div class="overlay"></div>
                </div>
            </div>        
        </div>
        <div class="ability-btn end-turn" [ngClass]="hero.id">
            <app-icon [icon]="'duration'"></app-icon>
            <div class="overlay"></div>
        </div>
        <div class="ability-btn upgrade" [ngClass]="hero.id">
            <app-icon [icon]="'upgrade'"></app-icon>
            <div class="overlay"></div>
        </div>
    </div>
    <div class="action-bar-wrapper" *ngIf="hero.state.buffs.length > 0 || hero.state.debuffs.length > 0">
        <div class="group">
            <div class="buttons">
                <div class="ability-btn btn-small" [ngClass]="hero.id" *ngFor="let buff of hero.state.buffs">
                    <app-icon [icon]="hero.id + '/' + buff.name"></app-icon>
                    <div class="overlay"></div>
                </div>
            </div>        
        </div>
        <div class="group">
            <div class="buttons">
                <div class="ability-btn btn-small" [ngClass]="hero.id" *ngFor="let debuff of hero.state.debuffs">
                    <app-icon [icon]="hero.id + '/' + debuff.name"></app-icon>
                    <div class="overlay"></div>
                </div>
            </div>        
        </div>
    </div>
    <div class="action-bar-wrapper" *ngFor="let pet of hero.state.pets">
        <div class="group">
            <div class="buttons">
                <app-icon class="portrait" [icon]="hero.id + '/' + pet.name" [ngClass]="hero.id"></app-icon>
                <div class="pet-info-wrapper">
                    <div class="pet-abilities group">
                        <div class="group-name">{{pet.id}}</div>
                        <div class="buttons">
                            <div class="ability-btn" [ngClass]="hero.id">
                                <app-icon [icon]="'move'"></app-icon>
                                <div class="overlay"></div>
                            </div>
                            <div class="ability-btn" [ngClass]="hero.id">
                                <app-icon [icon]="hero.id + '/' + pet.ability.name"></app-icon>
                                <div class="overlay"></div>
                            </div>
                        </div>
                    </div>
                    <div class="pet-info">
                        <div class="bar-group">
                            <app-icon [icon]="'hearts'"></app-icon>
                            <app-resource-bar [value]="hero.state.health" [maxValue]="hero.maxHealth" [type]="'health'"></app-resource-bar>
                        </div>              
                        <div class="pet-effects" *ngIf="pet.state.buffs.length > 0 || pet.state.debuffs.length > 0">
                            <div class="group">
                                <div class="buttons">
                                    <div class="ability-btn btn-small" [ngClass]="hero.id" *ngFor="let buff of pet.state.buffs">
                                        <app-icon [icon]="hero.id + '/' + buff.name"></app-icon>
                                        <div class="overlay"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="group">
                                <div class="buttons">
                                    <div class="ability-btn btn-small" [ngClass]="hero.id" *ngFor="let debuff of pet.state.debuffs">
                                        <app-icon [icon]="hero.id + '/' + debuff.name"></app-icon>
                                        <div class="overlay"></div>
                                    </div>
                                </div>        
                            </div>
                        </div>               
                    </div> 
                </div>                       
            </div>        
        </div>
    </div>
</div>
